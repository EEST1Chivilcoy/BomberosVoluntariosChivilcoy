@using Vista.Data.ViewModels;
@using Vista.Data.ViewModels.Incendios;

<Form Model="Model">
    <FormItem Label="Tipo de Servicio" Required>
        <EnumSelect TEnum="TipoServicioSalida" @bind-Value="@Model.TipoServicio" />
    </FormItem>

    @if (Model is IncendioViewModels incendioView)
    {
        <FormItem Label="Causa" Required>
            <EnumSelect TEnum="TipoCausaIncendio" @bind-Value="@incendioView.SuperficieAfectadaCausa" />
        </FormItem>

        <FormItem Label="Dimensiones" Required>
            <EnumSelect TEnum="TipoSuperficie" @bind-Value="@incendioView.TipoSuperficieAfectada" />
        </FormItem>

        <FormItem Label="Tipo de Evacuación">
            <EnumSelect TEnum="TipoEvacuacion" @bind-Value="@incendioView.TipoEvacuacion" />
        </FormItem>

        <FormItem Label="Detalle de la superficie afectada" Required>
            <TextArea Placeholder="Describí qué zonas fueron afectadas y en qué medida" @bind-Value="@incendioView.DetalleSuperficieAfectadaIncendio" />
        </FormItem>
    }



    @if (Model is IncendioViewModels incendioView1)
    {
        <FormItem>
            <Checkbox Checked="incendioView1.DeteccionAutomaticaId"
                      CheckedChanged="@(value => incendioView1.DeteccionAutomaticaId = value)">
                Detección Automática
            </Checkbox>
        </FormItem>
        <FormItem>
            <Checkbox Checked="incendioView1.Extintor"
                      CheckedChanged="@(value => incendioView1.Extintor = value)">
                Extintor
            </Checkbox>
        </FormItem>
        <FormItem>
            <Checkbox Checked="incendioView1.Hidrante"
                      CheckedChanged="@(value => incendioView1.Hidrante = value)">
                Hidrante
            </Checkbox>
        </FormItem>
    }

</Form>



@code {
    [Parameter, EditorRequired] public SalidasViewModels Model { get; set; } = null!;
    [Parameter, EditorRequired] public bool isUnlocked { get; set; } = false;
    [Parameter, EditorRequired] public EventCallback<bool> OnCompleted { get; set; } // Evento para notificar que se ha completado el formulario
}