@inherits LayoutComponentBase
@inject IconService iconService
@inject NavigationManager navigationManager

<PageTitle>Bomberos Chivilcoy</PageTitle>
<style>
    .ant-menu-vertical > .ant-menu-item, .ant-menu-vertical-left > .ant-menu-item, .ant-menu-vertical-right > .ant-menu-item, .ant-menu-inline > .ant-menu-item, .ant-menu-vertical > .ant-menu-submenu > .ant-menu-submenu-title, .ant-menu-vertical-left > .ant-menu-submenu > .ant-menu-submenu-title, .ant-menu-vertical-right > .ant-menu-submenu > .ant-menu-submenu-title, .ant-menu-inline > .ant-menu-submenu > .ant-menu-submenu-title {
        width: 100%;
        padding: 0 2.3em!important;
    }

    .ant-menu-sub.ant-menu-inline{
        background: #fff !important;
    }

    .ant-tooltip-content {
        display: none;
    }

    .ant-menu-item-selected {
        background-color: rgb(62, 24, 24) !important;
        width: 100%;
    }
    .ant-menu-submenu .ant-menu-item-selected{
        /* padding-left: 45px !important; */
        border-left: 3px solid rgb(62, 24, 24) !important;
        color: rgb(62, 24, 24) !important;
        font-size: 1em!important;
        background-color: rgb(210, 210, 210) !important; 
        width: 100%;
    }

        .ant-menu-item-selected anticon i {
            background: rgb(62, 24, 24) !important;
        }
        .ant-menu-item a:hover {
            color: rgb(62, 24, 24) !important;
        }

    .ant-menu-item-selected a {
        color: rgb(230, 230, 230) !important;
    }

    .ant-menu-item-selected a:hover {
        color: rgb(230, 230, 230) !important;
    }

    .ant-menu-submenu-title .ant-menu-item-selected anticon {
        color: rgb(230, 230, 230) !important;
    }
     
    .ant-menu-submenu-selected .ant-menu-submenu-title .anticon svg{
        color: rgb(230, 230, 230) !important;
    }

    /* /iconos/ */
    .xd2 .ant-menu-submenu-selected .ant-menu-submenu-title i {
        color: rgb(230, 230, 230) !important;
    }

    .xd2 .ant-menu-submenu-selected .ant-menu-submenu-title .ant-menu-title-content:hover, .xd2 .ant-menu-submenu-selected .ant-menu-submenu-title .ant-menu-title-content span i {
        color: rgb(230, 230, 230) !important;
    }

    .xd3 .ant-menu-submenu-selected .ant-menu-submenu-title .ant-menu-title-content:hover, .xd3 .ant-menu-submenu-selected .ant-menu-submenu-title .ant-menu-title-content span i {
        color: rgb(230, 230, 230) !important;
    }

    .xd4 .ant-menu-submenu-selected .ant-menu-submenu-title .ant-menu-title-content:hover, .xd4 .ant-menu-submenu-selected .ant-menu-submenu-title .ant-menu-title-content span i {
        color: rgb(230, 230, 230) !important;
    }

    .xd4 .ant-menu-submenu-selected .ant-menu-submenu-title .ant-menu-title-content:hover, .xd4 .ant-menu-submenu-selected .ant-menu-submenu-title .ant-menu-title-content span i {
        color: rgb(230, 230, 230) !important;
    }

    /* /titulos/ */
    .ant-menu-submenu-title:hover {
        color: #adb5bd !important;
    }
        
    /* /arrows/ */
    .xd .ant-menu-submenu-selected .ant-menu-submenu-title .ant-menu-submenu-arrow {
        color: rgb(230, 230, 230) !important;
    }
    .xd2 .ant-menu-submenu-selected .ant-menu-submenu-title .ant-menu-submenu-arrow {
        color: rgb(230, 230, 230) !important;
    }
    .xd3 .ant-menu-submenu-selected .ant-menu-submenu-title .ant-menu-submenu-arrow {
        color: rgb(230, 230, 230) !important;
    }
    .xd4 .ant-menu-submenu-selected .ant-menu-submenu-title .ant-menu-submenu-arrow {
        color: rgb(230, 230, 230) !important;
    }

    .xd4.ant-menu-submenu-selected .ant-menu-submenu-title .ant-menu-submenu-arrow:hover {
        color: rgb(230, 230, 230) !important;
    }

    a.nav-link::before {
        margin-left: 8px !important;
    }

    .ant-menu-dark.ant-menu-dark:not(.ant-menu-horizontal) .ant-menu-item-selected {
        display: flex !important;
    }

        .ant-menu-dark.ant-menu-dark:not(.ant-menu-horizontal) .ant-menu-item-selected .icoSelected {
            color: rgb(223, 223, 223) !important;
        }

    .ant-menu-inline {
        border-right: none !important;
    }

    .ant-menu-inline-collapsed {
        border-right: none !important;
    }

    .ant-menu-inline .ant-menu-item::after {
        border-right: none !important;
    }

    .ant-menu-submenu-title {
        padding-left: 33px !important;
    }

        .ant-menu-submenu-title span {
            padding-left: 0px !important;
        }

    .ant-menu-submenu .ant-menu-item-selected .anticon-container i{
        color: rgb(62, 24, 24) !important;
    }

    .ant-menu-submenu-selected{
        color: #fff !important;
    }

    .ant-menu-sub .ant-menu-inline {
        /*padding-left: 24px !important;*/
        background: #fff !important;
    }

    .ant-menu-item-selected a:active {
        border-left: 3px solid rgb(62, 24, 24) !important;
    }

    /* .ant-menu-light .ant-menu-submenu-title:hover, .ant-menu-light .ant-menu-title-content:hover {
        color: black !important;
    } */

    .ant-menu-light .ant-menu-submenu-arrow:hover {
        background: black !important;
        color: black !important;
    }

    .ant-menu.ant-menu-inline-collapsed > .ant-menu-item {
        display: flex;
    }

    .ant-menu-submenu-selected {
        background: rgb(62, 24, 24) !important;
        color: #fff !important;
    }

        .ant-menu-submenu-selected:hover {
            color: #fff !important;
        }

        .ant-menu-submenu-selected .ant-menu-item-selected li {
            border: 3px solid rgb(62, 24, 24) !important;
            color: rgb(62, 24, 24) !important;
        }
    
        .ant-menu-submenu-selected > .anticon-alert {
            background-color: #fff !important;
            top: 4px !important;
        }

        .ant-menu-submenu-selected ul .ant-menu-item-selected li{
            border-left: 3px solid rgb(62, 24, 24) !important;
        }

    .ant-menu-item-selected, .ant-menu-item-selected i, .ant-menu-item-selected:hover {
        color: #fff !important;
    }

    .ant-menu-submenu-title > .ant-menu-submenu-arrow {
        color: black !important;
    }

    .ant-menu-submenu-title .ant-menu-submenu-selected > .ant-menu-submenu-arrow {
        color: #fff !important;
    }

    /*acomodar para que sea por cada flecha(item seleccionado), no en todas*/
    .ant-menu-submenu-selected:first-child .ant-menu-submenu-title > .ant-menu-submenu-arrow {
        color: #fff !important;
    }

    .ant-menu-submenu-title .anticon {
        min-width: 19px !important;
    }

    .ant-menu-inline-collapsed .spanContentSalidas {
        padding-top: 10px !important;
    }

    .ant-menu-item:hover {
        color: black !important;
    }

    .ant-menu-submenu .ant-menu-submenu-vertical .ant-menu-submenu-title{
        padding-left: 0!important;
    }

    .body-sect {
        margin-left: 80px;
    }

    .ant-layout-sider:not(.ant-layout-sider-collapsed) {
        max-width: 265px!important;
        flex: 0 0 265px!important;
    }

    @@media screen and (max-width: 600px) {
        .ant-layout-sider-collapsed {
            display: none!important;
        }

        .sidebarAnt {
            position: fixed !important;
            z-index: 1001 !important; 
            width: 255px!important;
        }

        .body-sect {
            margin-left: 0!important;
        }
    }

    @@media screen and (max-width: 377px) {
        .head-cont{
            gap: 0!important;
        }

        .navbar-brand{
            font-size: 16px!important;
        }
    }
</style>

@*IMPORTANTE: SACAR TODOS LOS ESTILOS EN LINEA Y HACERLOS EN UN ARCHIVO CSS A PARTE*@
<Layout>
    <Header Style="position: fixed;box-shadow: rgba(33, 35, 38, 0.1) 0px 10px 10px -10px;background-color: rgb(62, 24, 24);height: 5em;width: 100%;z-index: 1000;padding: 0;">
        <div class="head-cont" style="font-family: 'Fjalla One', sans-serif;display: flex;align-items: center; align-content: center;height: 100%;gap:15px;position:relative;">
            <Button Type="primary" OnClick="ToggleCollapsed" Style="margin-left: 1em; background: none; border: none;">
                @if (collapsedMenu)
                {
                    <Icon Type="menu-unfold" Theme="outline" Style="font-size: 20px;"></Icon>
                }
                else
                {
                    <Icon Type="menu-fold" Theme="outline" Style="font-size: 20px;"></Icon>

                    <i class="fa-solid fa-user-helmet-safety" style="color: #263040;"></i>
                }
            </Button>
            <a class="navbar-brand" style="display: flex;align-items:center;gap: 5px;color: rgb(263040,255,255);font-size: 20px;" href="/"><img class="Logo" src="/Imagenes/Logo1.png" /> Bomberos Voluntarios Chivilcoy</a>
            @*<p class="navbar-brand" style="color: rgb(263040,255,255);position: absolute;right: 10px; transform:translate(50% -50%);">!Hola #Usuario!</p>*@
        </div>
    </Header>
    <Layout Style="background: #fff;!important;">
        <Sider Class="sidebarAnt" @bind-Collapsed=@collapsedMenu NoTrigger OnCollapse="OnCollapse" Style="margin-top: 5em;overflow-y: auto;overflow-x: hidden;background: #fff;">
            <Menu Mode=MenuMode.Inline
                  InlineCollapsed=collapsedMenu
                   Style="height: 100%;width: 100%;">
                <MenuItem Key="0">
                    <IconTemplate>
                        <i class="fa-solid fa-user icoSelected" style="color: #263040;padding-right: 6px;"></i>
                    </IconTemplate>
                    <ChildContent>
                         <li class="nav-item"><a class="nav-link" href="/Bomberos/Legajo">Legajo</a></li>
                    </ChildContent>
                </MenuItem>
                <MenuItem Key="5" Icon="container">
                    <IconTemplate>
                        <i class="fa-solid fa-file-signature" style="color:#263040;"></i>
                    </IconTemplate>
                    <ChildContent>
                        <li class="nav-item"><a class="nav-link" href="/Licencias-Detalles">Licencias</a></li>
                    </ChildContent>
                </MenuItem>
                <MenuItem Key="3" Icon="container">
                    <IconTemplate>
                        <i class="fa-solid fa-truck-droplet icoSelected" style="color: #263040;"></i>
                    </IconTemplate>
                    <ChildContent>
                        <li class="nav-item"><a class="nav-link" href="moviles">Moviles</a></li>
                    </ChildContent>
                </MenuItem>
                <MenuItem Key="4" Icon="container">
                    <IconTemplate>
                        <i class="fa-sharp fa-solid fa-ship" style="color:#263040;"></i>
                    </IconTemplate>
                    <ChildContent>
                        <li class="nav-item"><a class="nav-link" href="/embarcaciones">Embarcaciones</a></li>
                    </ChildContent>
                </MenuItem>
                <SubMenu class="xd" Key="sub1" Title="Salidas" TitleTemplate=@sub2Title>
                    <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/materiales-peligrosos"); })">
                        <MenuItem Key="02" Title=@("Materiales peligrosos")>
                            <IconTemplate>
                                <i class="fa-solid fa-circle-radiation" style="color: #263040;"></i>
                            </IconTemplate>
                        </MenuItem>
                    </a>
                    <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/factores-climaticos"); })">
                        <MenuItem Key="01" Title=@("Factores climaticos")>
                            <IconTemplate>
                                <i class="fa-sharp fa-solid fa-cloud-bolt" style="color: #263040;"></i>
                            </IconTemplate>
                        </MenuItem>
                    </a>
                    <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/accidentes"); })">
                        <MenuItem Key="03" Title=@("Accidentes")>
                            <IconTemplate>
                                <i class="fa-solid fa-person-falling-burst" style="color: #263040;"></i>
                            </IconTemplate>
                        </MenuItem>
                    </a>
                    <SubMenu class="xd2" Key="sub2" TitleTemplate=@sub3Title>
                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/incendios-comercio"); })">
                            <MenuItem Key="04">Comercio</MenuItem>
                        </a>
                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/incendios-forestales"); })">
                            <MenuItem Key="05">Forestal</MenuItem>
                        </a>
                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/incendios-industriales"); })">
                            <MenuItem Key="06">Industria</MenuItem>
                        </a>    
                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/incendios-vehiculares"); })">
                            <MenuItem Key="07">Vehiculares</MenuItem>
                        </a>
                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/incendios-establecimientoEducativo"); })">
                            <MenuItem Key="08">Establecimiento educativo</MenuItem>
                        </a>
                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/incendios-HospitalesClinicas"); })">
                            <MenuItem Key="09">Hospitales / Clinicas</MenuItem>
                        </a>
                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/incendios-establecimientoPublico"); })">
                            <MenuItem Key="10">Establecimiento publico</MenuItem>
                        </a>
                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/incendios-viviendas"); })">
                            <MenuItem Key="11">Vivienda</MenuItem>
                        </a>
                    </SubMenu>
                    <SubMenu class="xd3" Key="sub3" TitleTemplate=@sub4Title Style="padding-left: 0!important;">
                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/serviciosRepresentacion"); })">
                            <MenuItem Key="12">Representacion</MenuItem>
                        </a>
                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/serviciosPrevencion"); })">
                            <MenuItem Key="13">Prevencion</MenuItem>
                        </a>
                    </SubMenu>
                    <SubMenu class="xd4" Key="sub4" TitleTemplate=@sub5Title Style="padding-left: 0!important;">
                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/rescates-animal"); })">
                            <MenuItem Key="14">Animal</MenuItem>
                        </a>
                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/rescates-persona"); })">
                            <MenuItem Key="15">Persona</MenuItem>
                        </a>
                    </SubMenu>
                </SubMenu>
                <SubMenu class="xd" Key="001" Title="Bomberos" TitleTemplate=@sub1Title>
                    <a @onclick="@(() => { navigationManager.NavigateTo("/bomberos"); })">
                        <MenuItem Key="002" Title=@("Activos")>
                            <IconTemplate>
                                <i class="fa-solid fa-user-large" style="color: #263040;"></i>
                            </IconTemplate>
                        </MenuItem>
                    </a>
                    <a @onclick="@(() => { navigationManager.NavigateTo("/bomberos/retirados"); })">
                        <MenuItem Key="003" Title=@("Retirados")>
                            <IconTemplate>
                                <i class="fa-solid fa-user-large-slash" style="color: #263040;"></i>
                            </IconTemplate>
                        </MenuItem>
                    </a>
                    <a @onclick="@(() => { navigationManager.NavigateTo("/bomberos/sancionados"); })">
                        <MenuItem Key="004" Title=@("Sancionados")>
                            <IconTemplate>
                                <i class="fa-solid fa-user-xmark" style="color: #263040;"></i>
                            </IconTemplate>
                        </MenuItem>
                    </a>
                    <a @onclick="@(() => { navigationManager.NavigateTo("/bomberos/ascenso"); })">
                        <MenuItem Key="005" Title=@("Ascenso")>
                            <IconTemplate>
                                <i class="fa-solid fa-user-xmark" style="color: #263040;"></i>
                            </IconTemplate>
                        </MenuItem>
                    </a>
                </SubMenu>
                <SubMenu class="xd" Key="sub6" Title="Salidas" TitleTemplate=@sub7Title>
                    <a @onclick="@(() => { navigationManager.NavigateTo("/Reportes/HistorialSalidas"); })">
                        <MenuItem Key="19" Title=@("Salidas")>
                            <IconTemplate>
                                <i class="fa-solid fa-clock-rotate-left" style="color: #263040;"></i>
                            </IconTemplate>
                        </MenuItem>
                    </a>
                    <a @onclick="@(() => { navigationManager.NavigateTo("/Reportes/HistorialBomberos"); })">
                        <MenuItem Key="20" Title=@("Bomberos")>
                            <IconTemplate>
                                <i class="fa-solid fa-users-gear" style="color: #263040;"></i>
                            </IconTemplate>
                        </MenuItem>
                    </a>
                    <a @onclick="@(() => { navigationManager.NavigateTo("/Reportes/Reportes_Choferes"); })">
                        <MenuItem Key="21" Title=@("Choferes")>
                            <IconTemplate>
                                <i class="fa-solid fa-id-card" style="color: #263040;"></i>
                            </IconTemplate>
                        </MenuItem>
                    </a>
                    <a @onclick="@(() => { navigationManager.NavigateTo("/Reportes/HistorialMoviles"); })">
                        <MenuItem Key="24" Title=@("Moviles")>
                            <IconTemplate>
                                <i class="fa-solid fa-truck-droplet icoSelected" style="color: #263040;"></i>
                            </IconTemplate>
                        </MenuItem>
                    </a>
                </SubMenu>
                <SubMenu class="xd" Key="sub5" Title="Salidas" TitleTemplate=@sub6Title>
                    <a @onclick="@(() => { navigationManager.NavigateTo("/Herramientas/Brigadas"); })">
                        <MenuItem Key="16" Title=@("Brigadas")>
                            <IconTemplate>
                                <i class="fa-solid fa-users-gear"></i>
                            </IconTemplate>
                        </MenuItem>
                    </a>
                    <a @onclick="@(() => { navigationManager.NavigateTo("/Herramientas/Comunicacion"); })">
                        <MenuItem Key="17" Title=@("Comunicacion")>
                            <IconTemplate>
                                <i class="fa-solid fa-walkie-talkie"></i>
                            </IconTemplate>
                        </MenuItem>
                    </a>
                    <a @onclick="@(() => { navigationManager.NavigateTo("/Herramientas/Deposito"); })">
                        <MenuItem Key="18" Title=@("Deposito")>
                            <IconTemplate>
                                <i class="fa-solid fa-file-signature"></i>
                            </IconTemplate>
                        </MenuItem>
                    </a>
                </SubMenu>
            </Menu>
        </Sider>
        <Layout>
            <Content class="body-sect" Style="display: flex;align-items: center;flex-direction:column;position: relative;margin: 0;margin-top: 5em;
                overflow: auto;height: 100%;min-width: 360px;min-height: 280px;background: rgb(220,220,220);">
                @Body
            </Content>
        </Layout>
    </Layout>
    
</Layout>

@code {
    bool collapsedMenu;

    void ToggleCollapsed()
    {
        collapsedMenu = !collapsedMenu;
    }
    
    void OnCollapse(bool isCollapsed)
    {
        Console.WriteLine($"Collapsed: {isCollapsed}");
    }

    RenderFragment sub1Title =
    @<span class="spanSalidas" style="position: relative;">
        <Icon class="menuSalidas" Type="team" Theme="outline" Style="font-size: 19px;position: absolute;bottom: 2px;left: -1px;color: #263040;" />
        <span class="spanContentSalidas" style="padding-left: 32px!important;">Bomberos</span>
    </span>
    ;

    RenderFragment sub2Title =
    @<span class="spanSalidas" style="position: relative;">
        <Icon class="menuSalidas" Type="alert" Theme="fill" Style="font-size: 19px;position: absolute;bottom: 2px;left: -1px;color: #263040;" />
        <span class="spanContentSalidas" style="padding-left: 32px!important;">Salidas</span>
    </span>
    ;

    RenderFragment sub3Title =
    @<span style="margin-left: 1.2em;">
        <i class="fa-sharp fa-solid fa-fire" style="padding-right: 10px!important;color: #263040;"></i>
        <span>Incendios</span>
    </span>
    ;
    RenderFragment sub4Title =
    @<span style="margin-left: 1.2em;">
        <i class="fa-solid fa-helmet-safety" style="padding-right: 10px!important;color: #263040;"></i>
        <span>Servicios</span>
    </span>
    ;
    RenderFragment sub5Title =
    @<span style="margin-left: 1.2em;">
        <i class="fa-solid fa-fire-extinguisher" style="padding-right: 10px!important;color: #263040;"></i>
        <span>Rescates</span>
    </span>
    ;

    RenderFragment sub6Title =
    @<span class="spanSalidas" style="position: relative;">
        <Icon class="menuSalidas" Type="tool" Theme="outline" Style="font-size: 19px;position: absolute;bottom: 2px;left: -1px;color: #263040;" />
        <span class="spanContentSalidas" style="padding-left: 32px!important;">Herramientas</span>
    </span>
    ;

    RenderFragment sub7Title =
    @<span class="spanSalidas" style="position: relative;">
        <Icon Type="history" Theme="outline" Style="font-size: 19px;position: absolute;bottom: 2px;left: -1px;color: #263040;" />
        <span class="spanContentSalidas" style="padding-left: 32px!important;">Reportes</span>
        </span>
    ;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            ToggleCollapsed();
            StateHasChanged();
            await iconService.CreateFromIconfontCN("//at.alicdn.com/t/font_2735473_hi62ezq5579.js");
        }
    }
}
