@inherits LayoutComponentBase
@inject IconService iconService
@inject NavigationManager navigationManager

<PageTitle> Bomberos Chivilcoy</PageTitle>

@*
<BSContainer Container="Container.ExtraExtraLarge" style="width: 100%;">
    @Body
</BSContainer>*@

@*-----------------------*@
@*IMPORTANTE: SACAR TODOS LOS ESTILOS EN LINEA Y HACERLOS EN UN ARCHIVO CSS A PARTE*@
<Layout>
    <Header Style="position: fixed;box-shadow: 1px 1px 1px rgb(128, 128, 128);background-color: rgb(62, 24, 24);height: 5em;width: 100%;z-index: 1000;">
        @*<nav class="navbar navbar-expand-lg navbar-dark py-3" id="BarraMain">
        <div class="container px-4 px-lg-5">

        </div>
        </nav>*@
        <Button Type="primary" OnClick="ToggleCollapsed" Style="margin-bottom: 16px; background: none; border: none;">
            @if (collapsed)
            {
                <Icon Type="menu-unfold" Theme="outline"></Icon>
            }
            else
            {
                <Icon Type="menu-fold" Theme="outline"></Icon>
            }
        </Button>
        <a class="navbar-brand" style="color: rgb(255,255,255)" href="/"><img class="Logo" src="/Imagenes/Logo1.png" /> Bomberos Voluntarios Chivilcoy</a>
        @*<button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>*@
        @*<div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ms-auto my-0 my-lg-0">
        <li class="nav-item"><a class="nav-link" href="\legajo">Legajo</a></li>
        <li class="nav-item"><a class="nav-link" href="salidas">Salidas</a></li>
        <li class="nav-item"><a class="nav-link" href="bomberos">Bomberos</a></li>
        <li class="nav-item"><a class="nav-link" href="moviles">Moviles</a></li>
        </ul>
        </div>*@
    </Header>
    <Layout>
            <div style="height: 100%;width: 200px;z-index: 100;position: fixed;">
                
                    <Menu style="height: 100%;background:rgb(230, 230, 230);z-index: 100;margin-top: 5em;"
                        
                          Theme="MenuTheme.Dark"
                          Mode=MenuMode.Inline
                          InlineCollapsed=collapsed>
                            <MenuItem Key="0">
                                <IconTemplate>
                                    <i class="fa-solid fa-user" style="color: #263040;"></i>
                                </IconTemplate>
                                <ChildContent>
                                    <li class="nav-item"><a class="nav-link" href="\legajo">Legajo</a></li>
                                </ChildContent>
                            </MenuItem>
                            <MenuItem Key="1" Icon="pie-chart">
                                <IconTemplate>
                                    <i class="fa-solid fa-fire-extinguisher" style="color: #263040;"></i>
                                </IconTemplate>
                                <ChildContent>
                                    <li class="nav-item"><a class="nav-link" href="salidas">Salidas</a></li>
                                </ChildContent>
                            </MenuItem>
                            <MenuItem Key="2" Icon="desktop">
                                <IconTemplate>
                                    <i class="fa-solid fa-users" style="color: #263040;"></i>
                                </IconTemplate>
                                <ChildContent>
                                    <li class="nav-item"><a class="nav-link" href="bomberos">Bomberos</a></li>
                                </ChildContent>
                            </MenuItem>
                            <MenuItem Key="3" Icon="container">
                                <IconTemplate>
                                    <i class="fa-solid fa-truck-droplet" style="color: #263040;"></i>
                                </IconTemplate>
                                <ChildContent>
                                    <li class="nav-item"><a class="nav-link" href="moviles">Moviles</a></li>
                                </ChildContent>
                            </MenuItem>
                            <SubMenu Key="sub1" TitleTemplate=@sub1Title Style="background-color: rgb(230, 230, 230);">
                                <div style="background-color: rgb(230, 230, 230); color: black;">
                                    <MenuItem Key="5" Style="background-color: rgb(230, 230, 230);">
                                        <ChildContent>
                                            <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/incendios"); })">Incendios</a>
                                        </ChildContent>
                                    </MenuItem>
                                    <MenuItem Key="6">
                                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/factores-climaticos"); })">Factores climatiacos</a>
                                    </MenuItem>
                                    <MenuItem Key="7">
                                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/materiales-peligrosos"); })">Materiales peligrosos</a>
                                    </MenuItem>
                                    <MenuItem Key="8">
                                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/servicios"); })">Servicios</a>
                                    </MenuItem>
                                    <MenuItem Key="9">
                                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/accidentes"); })">Accidentes</a>
                                    </MenuItem>
                                    <MenuItem Key="10">
                                        <a @onclick="@(() => { navigationManager.NavigateTo("/salidas/rescates"); })">Rescates</a>
                                    </MenuItem>
                                </div>
                            </SubMenu>
                        <Sider Style="margin-top:5em; background-color: transparent;">
                           
                        </Sider>
                    </Menu>
                    
            </div>
        
        
        <Content Style="margin-top: 5em;margin-left: 80px;position: relative; background: rgb(200,200,200);height: 200%;">
            <div style="margin: 0 20px 0 20px;display: flex; justify-content: center; align-items: center;flex-direction:column;">
                @Body
            </div>


            @*AGREGAR FOOTER POR PAGINA
                <Footer Style="margin-top:auto;background-color: rgb(62, 24, 24); width: 100%;color: white;z-index: 1; position: absolute; bottom: 0;">
                @*<footer Class="footer text-center" id="FooterCopy">

                </footer>
                <BSContainer>
                    <div class="copyright py-4 text-center text-white">
                        <div class="container"><small>Copyright &copy;2022 <b>Bomberos Voluntarios Chivilcoy</b> - Todos los Derechos Reservados.</small></div>
                    </div>
                </BSContainer>
            </Footer>*@
        </Content>
        
    </Layout>
    
</Layout>
@*-----------------------*@

@code {
    bool collapsed = false;

    RenderFragment sub1Title =
    @<span>
        <i class="fa-solid fa-fire-extinguisher" style="color: #263040;"></i>
        <span class="nav-item"><a style="color: black;" class="nav-link" href="salidas">Salidas</a></span>
    </span>;

    void ToggleCollapsed()
    {
        collapsed = !collapsed;
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await iconService.CreateFromIconfontCN("//at.alicdn.com/t/font_2735473_hi62ezq5579.js");
        }
    }
}

