@inject NavigationManager navigationManager
@inject IDbContextFactory<BomberosDbContext> DbFactory
@page "/moviles"

@if (moviles is not null)
{
    <BSContainer Container="Container.Medium">
        <div class="Titulo ">
            <h3> Moviles </h3>
        </div>
    </BSContainer>
    <BSContainer id="Cartas">
        @foreach(Movil m in moviles)
        {
            <BSCol>
                <BSContainer id="Cartas" Container="Container.Fluid">
                    <BSCard CardType="CardType.Card" style="width: 18rem;">
                        <BSCard CardType="CardType.Image" src="data:@m.;base64,@m.Base64" alt="Card image cap" />
                        <BSCard CardType="CardType.Body">
                            <BSCard CardType="CardType.Title">Movil 13</BSCard>
                            <BSCard CardType="CardType.Text">
                                Movil encargado a ""
                            </BSCard>
                            <a href="/Movil13">
                                <BSButton Color="BSColor.Danger">Ver Información</BSButton>
                            </a>
                        </BSCard>
                    </BSCard>
                </BSContainer>
            </BSCol>
        }
    </BSContainer>
}
else
{
    <h1>No hay moviles</h1>
}
@code {

    public Movil[]? moviles;

    protected override async Task OnInitializedAsync()
    {
        using var db = DbFactory.CreateDbContext();

        moviles = await db.Moviles.ToArrayAsync();
    }
}


