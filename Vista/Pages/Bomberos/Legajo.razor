@page "/fire-force/Bomberos/Legajo"
@inject NavigationManager NavigationManager

<link rel="stylesheet" href="css/LegajoEstilos.css" />

<div class="main-container">
    <Row Gutter="30">
        <AntDesign.Col Xs="24" Sm="24" Md="24" Lg="8" Xl="6">
            <div class="profile-section">
                <div class="avatar-container">
                    <Avatar Icon="user" Class="profile-avatar" Alt="Avatar del usuario" />
                </div>

                <Card Bordered="false" Class="profile-card">
                    <div class="profile-content">
                        <div class="profile-header">
                            <h1 class="name-box">AGUSTIN ESTEBAN ROSSI</h1>
                            <p class="subtitle-text">AYUDANTE MAYOR</p>
                        </div>

                        <div class="info-block">
                            <label class="label" for="dni-input">D.N.I</label>
                            <Input Id="dni-input" Value="@("36.997.084")" Disabled aria-label="Documento Nacional de Identidad" />
                        </div>
                        <div class="info-block">
                            <label class="label" for="legajo-input">LEGAJO</label>
                            <Input Id="legajo-input" Value="@("170")" Disabled aria-label="Número de legajo" />
                        </div>
                        <div class="info-block">
                            <label class="label" for="fecha-input">FECHA DE INGRESO</label>
                            <Input Id="fecha-input" Value="@("08/02/2011")" Disabled aria-label="Fecha de ingreso" />
                        </div>
                        <div class="info-block">
                            <label class="label" for="handy-input">AÑOS DE SERVICIO</label>
                            <Input Id="handy-input" Value="@("15")" Disabled aria-label="Años de servicio" />
                        </div>
                        <div class="info-block">
                            <label class="label" for="handy-input">NÚMERO DE HANDY</label>
                            <Input Id="handy-input" Value="@("120")" Disabled aria-label="Número de handy" />
                        </div>

                        <div class="info-block">
                            <Button class="modal-footer" OnClick="CerrarSesion">
                                Cerrar Sesion
                            </Button>
                        </div>
                    </div>
                </Card>
            </div>
        </AntDesign.Col>

        <AntDesign.Col Xs="24" Sm="24" Md="24" Lg="16" Xl="18">
            <Card Bordered="false" class="services-card2">
                <div class="header-servicios">
                    <div class="banner-container">
                        <div class="servicios-banner">
                            <div class="banner-image-container">
                                <img src="Imagenes/banderin.png" alt="Banderín de puntaje" class="banderin-image" />
                            </div>
                            <div class="banner-text" role="heading" aria-level="2">PUNTAJE</div>
                        </div>
                    </div>
                </div>
                <div class="estadisticas-servicios" role="region" aria-label="Estadísticas de puntaje">
                    <Statistic Title="@($"PUNTAJE MENSUAL ({mesAnterior})")"
                               Value="68"
                               ValueStyle=" color: #a51c16; font-weight: bold;" />
                    <Divider Type="@DividerType.Vertical" class="stats-divider" />
                    <Statistic Title="@($"LICENCIA MENSUAL ({mesAnterior})")"
                               Value="2"
                               ValueStyle=" color: #a51c16; font-weight: bold;" />
                    <Divider Type="@DividerType.Vertical" class="stats-divider" />
                    <Statistic Title="@($"PUNTAJE ANUAL ({añoActual})")"
                               Value="700"
                               ValueStyle=" color: #a51c16; font-weight: bold;" />
                    <Divider Type="@DividerType.Vertical" class="stats-divider" />
                    <Statistic Title="@($"LICENCIA ANUAL ({añoActual})")"
                               Value="25"
                               ValueStyle=" color: #a51c16; font-weight: bold;" />
                    <Divider Type="@DividerType.Vertical" class="stats-divider" />
                    <Statistic Title="@($"FIRMAS ({mesActual})")"
                               Value="8"
                               ValueStyle=" color: #a51c16; font-weight: bold;" />
                </div>
            </Card>


                <Card Bordered="false" class="services-card2">
                <div class="header-servicios">
                    <div class="banner-container">
                        <div class="servicios-banner">
                            <div class="banner-image-container">
                                <img src="Imagenes/banderin.png" alt="Banderín de servicios" class="banderin-image" />
                                <div class="banner-number-overlay" aria-label="345 servicios totales">345</div>
                            </div>
                            <div class="banner-text" role="heading" aria-level="2">@($"TOTAL DE SERVICIOS EN {añoActual}")</div>
                        </div>
                    </div>
                </div>

                <div class="estadisticas-servicios" role="region" aria-label="Estadísticas de servicios">
                    <Statistic Title="SERVICIOS INTERVINIENTES"
                               Value="200"
                               ValueStyle="font-size: 2em; color: #a51c16; font-weight: bold;" />
                    <Divider Type="@DividerType.Vertical" class="stats-divider" />
                    <Statistic Title="SERVICIOS APRESTOS"
                               Value="120"
                               ValueStyle="font-size: 2em; color: #a51c16; font-weight: bold;" />
                    <Divider Type="@DividerType.Vertical" class="stats-divider" />
                    <Statistic Title="SERVICIOS CHOFER"
                               Value="10"
                               ValueStyle="font-size: 2em; color: #a51c16; font-weight: bold;" />
                    <Divider Type="@DividerType.Vertical" class="stats-divider" />
                    <Statistic Title="SERVICIOS A CARGO"
                               Value="15"
                               ValueStyle="font-size: 2em; color: #a51c16; font-weight: bold;" />
                </div>
            </Card>


        </AntDesign.Col>

    </Row>
</div>

@code {
    private string mesAnterior = DateTime.Now.AddMonths(-1).ToString("MMMM", new System.Globalization.CultureInfo("es-ES")).ToUpper();
    private string mesActual = DateTime.Now.ToString("MMMM", new System.Globalization.CultureInfo("es-ES")).ToUpper();
    private string añoActual = DateTime.Now.Year.ToString();

    private void CerrarSesion()
    {
        // Cierra sesión local sin cerrar la sesión de Microsoft Entra ID
        NavigationManager.NavigateTo("MicrosoftIdentity/Account/SignOut?local=true", forceLoad: true);
    }
}